Traceback (most recent call last):
  File "/gpfs/home5/thuang/projects/OLMo/scripts/train.py", line 436, in <module>
    main(cfg)
  File "/gpfs/home5/thuang/projects/OLMo/scripts/train.py", line 132, in main
    train_loader = build_train_dataloader(cfg)
  File "/gpfs/home5/thuang/projects/OLMo/olmo/data/__init__.py", line 156, in build_train_dataloader
    dataset = IterableDataset(
  File "/gpfs/home5/thuang/projects/OLMo/olmo/data/iterable_dataset.py", line 57, in __init__
    if self.drop_last and len(self.dataset) % self.world_size != 0:  # type: ignore[arg-type]
  File "/gpfs/home5/thuang/projects/OLMo/olmo/data/memmap_dataset.py", line 176, in __len__
    self._num_instances = self.offsets[-1][1]
  File "/gpfs/home5/thuang/projects/OLMo/olmo/data/memmap_dataset.py", line 138, in offsets
    path, length = future.result()
  File "/home/thuang/miniconda3/envs/olmo/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/home/thuang/miniconda3/envs/olmo/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/home/thuang/miniconda3/envs/olmo/lib/python3.10/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/gpfs/home5/thuang/projects/OLMo/olmo/data/memmap_dataset.py", line 172, in _get_file_length
    return path, file_size(path) // (item_size * self._chunk_size)
  File "/gpfs/home5/thuang/projects/OLMo/olmo/util.py", line 342, in file_size
    return _s3_file_size(parsed.scheme, parsed.netloc, parsed.path.strip("/"))
  File "/gpfs/home5/thuang/projects/OLMo/olmo/util.py", line 616, in _s3_file_size
    return _get_s3_client(scheme).head_object(Bucket=bucket_name, Key=key)["ContentLength"]
  File "/home/thuang/miniconda3/envs/olmo/lib/python3.10/site-packages/botocore/client.py", line 570, in _api_call
    return self._make_api_call(operation_name, kwargs)
  File "/home/thuang/miniconda3/envs/olmo/lib/python3.10/site-packages/botocore/context.py", line 124, in wrapper
    return func(*args, **kwargs)
  File "/home/thuang/miniconda3/envs/olmo/lib/python3.10/site-packages/botocore/client.py", line 1013, in _make_api_call
    http, parsed_response = self._make_request(
  File "/home/thuang/miniconda3/envs/olmo/lib/python3.10/site-packages/botocore/client.py", line 1037, in _make_request
    return self._endpoint.make_request(operation_model, request_dict)
  File "/home/thuang/miniconda3/envs/olmo/lib/python3.10/site-packages/botocore/endpoint.py", line 119, in make_request
    return self._send_request(request_dict, operation_model)
  File "/home/thuang/miniconda3/envs/olmo/lib/python3.10/site-packages/botocore/endpoint.py", line 196, in _send_request
    request = self.create_request(request_dict, operation_model)
  File "/home/thuang/miniconda3/envs/olmo/lib/python3.10/site-packages/botocore/endpoint.py", line 132, in create_request
    self._event_emitter.emit(
  File "/home/thuang/miniconda3/envs/olmo/lib/python3.10/site-packages/botocore/hooks.py", line 412, in emit
    return self._emitter.emit(aliased_event_name, **kwargs)
  File "/home/thuang/miniconda3/envs/olmo/lib/python3.10/site-packages/botocore/hooks.py", line 256, in emit
    return self._emit(event_name, kwargs)
  File "/home/thuang/miniconda3/envs/olmo/lib/python3.10/site-packages/botocore/hooks.py", line 239, in _emit
    response = handler(**kwargs)
  File "/home/thuang/miniconda3/envs/olmo/lib/python3.10/site-packages/botocore/signers.py", line 106, in handler
    return self.sign(operation_name, request)
  File "/home/thuang/miniconda3/envs/olmo/lib/python3.10/site-packages/botocore/signers.py", line 198, in sign
    auth.add_auth(request)
  File "/home/thuang/miniconda3/envs/olmo/lib/python3.10/site-packages/botocore/auth.py", line 424, in add_auth
    raise NoCredentialsError()
botocore.exceptions.NoCredentialsError: Unable to locate credentials
[2;36m[2025-03-26 01:16:37][0m [1;7;31mCRITICAL[0m [2m[olmo.util:168, rank=0][0m Uncaught NoCredentialsError: Unable to locate credentials
[31mâ•­â”€[0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31mâ”€â•®[0m
[31mâ”‚[0m [2;33m/gpfs/home5/thuang/projects/OLMo/scripts/[0m[1;33mtrain.py[0m:[94m436[0m in [92m<module>[0m                                [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m433 [0m[2mâ”‚   â”‚   [0mlog.info([33m"[0m[33mDevice is CPU. Updating config...[0m[33m"[0m)                                      [31mâ”‚[0m
[31mâ”‚[0m   [2m434 [0m[2mâ”‚   â”‚   [0mcfg.model.init_device = [33m"[0m[33mcpu[0m[33m"[0m                                                      [31mâ”‚[0m
[31mâ”‚[0m   [2m435 [0m[2mâ”‚   â”‚   [0mcfg.distributed_strategy = [33m"[0m[33msingle[0m[33m"[0m  [2m# type: ignore[0m                                [31mâ”‚[0m
[31mâ”‚[0m [31mâ± [0m436 [2mâ”‚   [0mmain(cfg)                                                                              [31mâ”‚[0m
[31mâ”‚[0m   [2m437 [0m                                                                                           [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m [2;33m/gpfs/home5/thuang/projects/OLMo/scripts/[0m[1;33mtrain.py[0m:[94m132[0m in [92mmain[0m                                    [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m129 [0m[2mâ”‚   [0mseed_all(cfg.seed)                                                                     [31mâ”‚[0m
[31mâ”‚[0m   [2m130 [0m[2mâ”‚   [0m                                                                                       [31mâ”‚[0m
[31mâ”‚[0m   [2m131 [0m[2mâ”‚   [0m[2m# Construct data loader.[0m                                                               [31mâ”‚[0m
[31mâ”‚[0m [31mâ± [0m132 [2mâ”‚   [0mtrain_loader = build_train_dataloader(cfg)                                             [31mâ”‚[0m
[31mâ”‚[0m   [2m133 [0m[2mâ”‚   [0m                                                                                       [31mâ”‚[0m
[31mâ”‚[0m   [2m134 [0m[2mâ”‚   [0m[2m# Construct evaluators.[0m                                                                [31mâ”‚[0m
[31mâ”‚[0m   [2m135 [0m[2mâ”‚   [0mevaluators = build_evaluators(cfg, device)                                             [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m [2;33m/gpfs/home5/thuang/projects/OLMo/olmo/data/[0m[1;33m__init__.py[0m:[94m156[0m in [92mbuild_train_dataloader[0m             [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m153 [0m[2mâ”‚   â”‚   â”‚   [0m)                                                                              [31mâ”‚[0m
[31mâ”‚[0m   [2m154 [0m[2mâ”‚   â”‚   [0m[94melse[0m:                                                                              [31mâ”‚[0m
[31mâ”‚[0m   [2m155 [0m[2mâ”‚   â”‚   â”‚   [0mwork_dir.mkdir(exist_ok=[94mTrue[0m, parents=[94mTrue[0m)                                    [31mâ”‚[0m
[31mâ”‚[0m [31mâ± [0m156 [2mâ”‚   [0mdataset = IterableDataset(                                                             [31mâ”‚[0m
[31mâ”‚[0m   [2m157 [0m[2mâ”‚   â”‚   [0mdataset,  [2m# type: ignore[0m                                                           [31mâ”‚[0m
[31mâ”‚[0m   [2m158 [0m[2mâ”‚   â”‚   [0mtrain_config.global_train_batch_size,                                              [31mâ”‚[0m
[31mâ”‚[0m   [2m159 [0m[2mâ”‚   â”‚   [0mseed=seed,                                                                         [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m [2;33m/gpfs/home5/thuang/projects/OLMo/olmo/data/[0m[1;33miterable_dataset.py[0m:[94m57[0m in [92m__init__[0m                    [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m 54 [0m[2mâ”‚   â”‚   [0m[96mself[0m.world_size = world_size [94mif[0m world_size [95mis[0m [95mnot[0m [94mNone[0m [94melse[0m get_world_size()       [31mâ”‚[0m
[31mâ”‚[0m   [2m 55 [0m[2mâ”‚   â”‚   [0m[2m# If the dataset length is evenly divisible by # of replicas, then there[0m           [31mâ”‚[0m
[31mâ”‚[0m   [2m 56 [0m[2mâ”‚   â”‚   [0m[2m# is no need to drop any data, since the dataset will be split equally.[0m            [31mâ”‚[0m
[31mâ”‚[0m [31mâ± [0m 57 [2mâ”‚   â”‚   [0m[94mif[0m [96mself[0m.drop_last [95mand[0m [96mlen[0m([96mself[0m.dataset) % [96mself[0m.world_size != [94m0[0m:  [2m# type: ignore[ar[0m [31mâ”‚[0m
[31mâ”‚[0m   [2m 58 [0m[2mâ”‚   â”‚   â”‚   [0m[2m# Split to nearest available length that is evenly divisible by world size.[0m    [31mâ”‚[0m
[31mâ”‚[0m   [2m 59 [0m[2mâ”‚   â”‚   â”‚   [0m[2m# This is to ensure each rank receives the same amount of data.[0m                [31mâ”‚[0m
[31mâ”‚[0m   [2m 60 [0m[2mâ”‚   â”‚   â”‚   [0mnum_samples = math.ceil(                                                       [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m [2;33m/gpfs/home5/thuang/projects/OLMo/olmo/data/[0m[1;33mmemmap_dataset.py[0m:[94m176[0m in [92m__len__[0m                      [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m173 [0m[2mâ”‚   [0m                                                                                       [31mâ”‚[0m
[31mâ”‚[0m   [2m174 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92m__len__[0m([96mself[0m) -> [96mint[0m:                                                              [31mâ”‚[0m
[31mâ”‚[0m   [2m175 [0m[2mâ”‚   â”‚   [0m[94mif[0m [96mself[0m._num_instances [95mis[0m [94mNone[0m:                                                    [31mâ”‚[0m
[31mâ”‚[0m [31mâ± [0m176 [2mâ”‚   â”‚   â”‚   [0m[96mself[0m._num_instances = [96mself[0m.offsets[-[94m1[0m][[94m1[0m]                                      [31mâ”‚[0m
[31mâ”‚[0m   [2m177 [0m[2mâ”‚   â”‚   [0m[94mreturn[0m [96mself[0m._num_instances                                                         [31mâ”‚[0m
[31mâ”‚[0m   [2m178 [0m[2mâ”‚   [0m                                                                                       [31mâ”‚[0m
[31mâ”‚[0m   [2m179 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92m__getitem__[0m([96mself[0m, index: [96mint[0m) -> Dict[[96mstr[0m, Any]:                                   [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m [2;33m/gpfs/home5/thuang/projects/OLMo/olmo/data/[0m[1;33mmemmap_dataset.py[0m:[94m138[0m in [92moffsets[0m                      [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m135 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   â”‚   [0mmask_path_futures.append(executor.submit([96mself[0m._get_file_length, ma [31mâ”‚[0m
[31mâ”‚[0m   [2m136 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m                                                                           [31mâ”‚[0m
[31mâ”‚[0m   [2m137 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[94mfor[0m future [95min[0m concurrent.futures.as_completed(path_futures):               [31mâ”‚[0m
[31mâ”‚[0m [31mâ± [0m138 [2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0mpath, length = future.result()                                         [31mâ”‚[0m
[31mâ”‚[0m   [2m139 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0mpath_to_length[path] = length                                          [31mâ”‚[0m
[31mâ”‚[0m   [2m140 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m                                                                           [31mâ”‚[0m
[31mâ”‚[0m   [2m141 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[94mfor[0m future [95min[0m concurrent.futures.as_completed(mask_path_futures):          [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m [2;33m/home/thuang/miniconda3/envs/olmo/lib/python3.10/concurrent/futures/[0m[1;33m_base.py[0m:[94m451[0m in [92mresult[0m       [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m448 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[94mif[0m [96mself[0m._state [95min[0m [CANCELLED, CANCELLED_AND_NOTIFIED]:                     [31mâ”‚[0m
[31mâ”‚[0m   [2m449 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m[94mraise[0m CancelledError()                                                 [31mâ”‚[0m
[31mâ”‚[0m   [2m450 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[94melif[0m [96mself[0m._state == FINISHED:                                              [31mâ”‚[0m
[31mâ”‚[0m [31mâ± [0m451 [2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m[94mreturn[0m [96mself[0m.__get_result()                                             [31mâ”‚[0m
[31mâ”‚[0m   [2m452 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m                                                                           [31mâ”‚[0m
[31mâ”‚[0m   [2m453 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[96mself[0m._condition.wait(timeout)                                              [31mâ”‚[0m
[31mâ”‚[0m   [2m454 [0m                                                                                           [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m [2;33m/home/thuang/miniconda3/envs/olmo/lib/python3.10/concurrent/futures/[0m[1;33m_base.py[0m:[94m403[0m in [92m__get_result[0m [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m400 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92m__get_result[0m([96mself[0m):                                                                [31mâ”‚[0m
[31mâ”‚[0m   [2m401 [0m[2mâ”‚   â”‚   [0m[94mif[0m [96mself[0m._exception:                                                                [31mâ”‚[0m
[31mâ”‚[0m   [2m402 [0m[2mâ”‚   â”‚   â”‚   [0m[94mtry[0m:                                                                           [31mâ”‚[0m
[31mâ”‚[0m [31mâ± [0m403 [2mâ”‚   â”‚   â”‚   â”‚   [0m[94mraise[0m [96mself[0m._exception                                                      [31mâ”‚[0m
[31mâ”‚[0m   [2m404 [0m[2mâ”‚   â”‚   â”‚   [0m[94mfinally[0m:                                                                       [31mâ”‚[0m
[31mâ”‚[0m   [2m405 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[2m# Break a reference cycle with the exception in self._exception[0m            [31mâ”‚[0m
[31mâ”‚[0m   [2m406 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[96mself[0m = [94mNone[0m                                                                [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m [2;33m/home/thuang/miniconda3/envs/olmo/lib/python3.10/concurrent/futures/[0m[1;33mthread.py[0m:[94m58[0m in [92mrun[0m          [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m 55 [0m[2mâ”‚   â”‚   â”‚   [0m[94mreturn[0m                                                                         [31mâ”‚[0m
[31mâ”‚[0m   [2m 56 [0m[2mâ”‚   â”‚   [0m                                                                                   [31mâ”‚[0m
[31mâ”‚[0m   [2m 57 [0m[2mâ”‚   â”‚   [0m[94mtry[0m:                                                                               [31mâ”‚[0m
[31mâ”‚[0m [31mâ± [0m 58 [2mâ”‚   â”‚   â”‚   [0mresult = [96mself[0m.fn(*[96mself[0m.args, **[96mself[0m.kwargs)                                    [31mâ”‚[0m
[31mâ”‚[0m   [2m 59 [0m[2mâ”‚   â”‚   [0m[94mexcept[0m [96mBaseException[0m [94mas[0m exc:                                                       [31mâ”‚[0m
[31mâ”‚[0m   [2m 60 [0m[2mâ”‚   â”‚   â”‚   [0m[96mself[0m.future.set_exception(exc)                                                 [31mâ”‚[0m
[31mâ”‚[0m   [2m 61 [0m[2mâ”‚   â”‚   â”‚   [0m[2m# Break a reference cycle with the exception 'exc'[0m                             [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m [2;33m/gpfs/home5/thuang/projects/OLMo/olmo/data/[0m[1;33mmemmap_dataset.py[0m:[94m172[0m in [92m_get_file_length[0m             [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m169 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92m_get_file_length[0m([96mself[0m, path, dtype=[94mNone[0m) -> Tuple[PathOrStr, [96mint[0m]:                 [31mâ”‚[0m
[31mâ”‚[0m   [2m170 [0m[2mâ”‚   â”‚   [0mdtype = dtype [95mor[0m [96mself[0m.dtype                                                        [31mâ”‚[0m
[31mâ”‚[0m   [2m171 [0m[2mâ”‚   â”‚   [0mitem_size = dtype([94m0[0m).itemsize                                                      [31mâ”‚[0m
[31mâ”‚[0m [31mâ± [0m172 [2mâ”‚   â”‚   [0m[94mreturn[0m path, file_size(path) // (item_size * [96mself[0m._chunk_size)                     [31mâ”‚[0m
[31mâ”‚[0m   [2m173 [0m[2mâ”‚   [0m                                                                                       [31mâ”‚[0m
[31mâ”‚[0m   [2m174 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92m__len__[0m([96mself[0m) -> [96mint[0m:                                                              [31mâ”‚[0m
[31mâ”‚[0m   [2m175 [0m[2mâ”‚   â”‚   [0m[94mif[0m [96mself[0m._num_instances [95mis[0m [94mNone[0m:                                                    [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m [2;33m/gpfs/home5/thuang/projects/OLMo/olmo/[0m[1;33mutil.py[0m:[94m342[0m in [92mfile_size[0m                                   [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m339 [0m[2mâ”‚   â”‚   [0m[94mif[0m parsed.scheme == [33m"[0m[33mgs[0m[33m"[0m:                                                          [31mâ”‚[0m
[31mâ”‚[0m   [2m340 [0m[2mâ”‚   â”‚   â”‚   [0m[94mreturn[0m _gcs_file_size(parsed.netloc, parsed.path.strip([33m"[0m[33m/[0m[33m"[0m))                   [31mâ”‚[0m
[31mâ”‚[0m   [2m341 [0m[2mâ”‚   â”‚   [0m[94melif[0m parsed.scheme [95min[0m ([33m"[0m[33ms3[0m[33m"[0m, [33m"[0m[33mr2[0m[33m"[0m, [33m"[0m[33mweka[0m[33m"[0m):                                        [31mâ”‚[0m
[31mâ”‚[0m [31mâ± [0m342 [2mâ”‚   â”‚   â”‚   [0m[94mreturn[0m _s3_file_size(parsed.scheme, parsed.netloc, parsed.path.strip([33m"[0m[33m/[0m[33m"[0m))     [31mâ”‚[0m
[31mâ”‚[0m   [2m343 [0m[2mâ”‚   â”‚   [0m[94melif[0m parsed.scheme [95min[0m ([33m"[0m[33mhttp[0m[33m"[0m, [33m"[0m[33mhttps[0m[33m"[0m):                                           [31mâ”‚[0m
[31mâ”‚[0m   [2m344 [0m[2mâ”‚   â”‚   â”‚   [0m[94mreturn[0m _http_file_size(parsed.scheme, parsed.netloc, parsed.path.strip([33m"[0m[33m/[0m[33m"[0m))   [31mâ”‚[0m
[31mâ”‚[0m   [2m345 [0m[2mâ”‚   â”‚   [0m[94melif[0m parsed.scheme == [33m"[0m[33mfile[0m[33m"[0m:                                                      [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m [2;33m/gpfs/home5/thuang/projects/OLMo/olmo/[0m[1;33mutil.py[0m:[94m616[0m in [92m_s3_file_size[0m                               [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m613 [0m[2mâ”‚   [0merr: Optional[[96mException[0m] = [94mNone[0m                                                        [31mâ”‚[0m
[31mâ”‚[0m   [2m614 [0m[2mâ”‚   [0m[94mfor[0m attempt [95min[0m [96mrange[0m([94m1[0m, max_attempts + [94m1[0m):                                             [31mâ”‚[0m
[31mâ”‚[0m   [2m615 [0m[2mâ”‚   â”‚   [0m[94mtry[0m:                                                                               [31mâ”‚[0m
[31mâ”‚[0m [31mâ± [0m616 [2mâ”‚   â”‚   â”‚   [0m[94mreturn[0m _get_s3_client(scheme).head_object(Bucket=bucket_name, Key=key)[[33m"[0m[33mConten[0m [31mâ”‚[0m
[31mâ”‚[0m   [2m617 [0m[2mâ”‚   â”‚   [0m[94mexcept[0m boto_exceptions.ClientError [94mas[0m e:                                           [31mâ”‚[0m
[31mâ”‚[0m   [2m618 [0m[2mâ”‚   â”‚   â”‚   [0m[94mif[0m e.response[[33m"[0m[33mResponseMetadata[0m[33m"[0m][[33m"[0m[33mHTTPStatusCode[0m[33m"[0m] == [94m404[0m:                    [31mâ”‚[0m
[31mâ”‚[0m   [2m619 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[94mraise[0m [96mFileNotFoundError[0m([33mf[0m[33m"[0m[33ms3://[0m[33m{[0mbucket_name[33m}[0m[33m/[0m[33m{[0mkey[33m}[0m[33m"[0m) [94mfrom[0m[90m [0m[4;96me[0m                [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m [2;33m/home/thuang/miniconda3/envs/olmo/lib/python3.10/site-packages/botocore/[0m[1;33mclient.py[0m:[94m570[0m in [92m_api_ca[0m [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m 567 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m[33mf[0m[33m"[0m[33m{[0mpy_operation_name[33m}[0m[33m() only accepts keyword arguments.[0m[33m"[0m              [31mâ”‚[0m
[31mâ”‚[0m   [2m 568 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m)                                                                         [31mâ”‚[0m
[31mâ”‚[0m   [2m 569 [0m[2mâ”‚   â”‚   â”‚   [0m[2m# The "self" in this scope is referring to the BaseClient.[0m                    [31mâ”‚[0m
[31mâ”‚[0m [31mâ± [0m 570 [2mâ”‚   â”‚   â”‚   [0m[94mreturn[0m [96mself[0m._make_api_call(operation_name, kwargs)                            [31mâ”‚[0m
[31mâ”‚[0m   [2m 571 [0m[2mâ”‚   â”‚   [0m                                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m 572 [0m[2mâ”‚   â”‚   [0m_api_call.[91m__name__[0m = [96mstr[0m(py_operation_name)                                       [31mâ”‚[0m
[31mâ”‚[0m   [2m 573 [0m                                                                                          [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m [2;33m/home/thuang/miniconda3/envs/olmo/lib/python3.10/site-packages/botocore/[0m[1;33mcontext.py[0m:[94m124[0m in [92mwrappe[0m [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m121 [0m[2mâ”‚   â”‚   â”‚   [0m[94mwith[0m start_as_current_context():                                               [31mâ”‚[0m
[31mâ”‚[0m   [2m122 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[94mif[0m hook:                                                                   [31mâ”‚[0m
[31mâ”‚[0m   [2m123 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0mhook()                                                                 [31mâ”‚[0m
[31mâ”‚[0m [31mâ± [0m124 [2mâ”‚   â”‚   â”‚   â”‚   [0m[94mreturn[0m func(*args, **kwargs)                                               [31mâ”‚[0m
[31mâ”‚[0m   [2m125 [0m[2mâ”‚   â”‚   [0m                                                                                   [31mâ”‚[0m
[31mâ”‚[0m   [2m126 [0m[2mâ”‚   â”‚   [0m[94mreturn[0m wrapper                                                                     [31mâ”‚[0m
[31mâ”‚[0m   [2m127 [0m                                                                                           [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m [2;33m/home/thuang/miniconda3/envs/olmo/lib/python3.10/site-packages/botocore/[0m[1;33mclient.py[0m:[94m1013[0m in [92m_make_[0m [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m1010 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[96mself[0m.meta.config, request_dict, operation_model                           [31mâ”‚[0m
[31mâ”‚[0m   [2m1011 [0m[2mâ”‚   â”‚   â”‚   [0m)                                                                             [31mâ”‚[0m
[31mâ”‚[0m   [2m1012 [0m[2mâ”‚   â”‚   â”‚   [0mapply_request_checksum(request_dict)                                          [31mâ”‚[0m
[31mâ”‚[0m [31mâ± [0m1013 [2mâ”‚   â”‚   â”‚   [0mhttp, parsed_response = [96mself[0m._make_request(                                   [31mâ”‚[0m
[31mâ”‚[0m   [2m1014 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0moperation_model, request_dict, request_context                            [31mâ”‚[0m
[31mâ”‚[0m   [2m1015 [0m[2mâ”‚   â”‚   â”‚   [0m)                                                                             [31mâ”‚[0m
[31mâ”‚[0m   [2m1016 [0m                                                                                          [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m [2;33m/home/thuang/miniconda3/envs/olmo/lib/python3.10/site-packages/botocore/[0m[1;33mclient.py[0m:[94m1037[0m in [92m_make_[0m [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m1034 [0m[2mâ”‚   [0m                                                                                      [31mâ”‚[0m
[31mâ”‚[0m   [2m1035 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92m_make_request[0m([96mself[0m, operation_model, request_dict, request_context):              [31mâ”‚[0m
[31mâ”‚[0m   [2m1036 [0m[2mâ”‚   â”‚   [0m[94mtry[0m:                                                                              [31mâ”‚[0m
[31mâ”‚[0m [31mâ± [0m1037 [2mâ”‚   â”‚   â”‚   [0m[94mreturn[0m [96mself[0m._endpoint.make_request(operation_model, request_dict)             [31mâ”‚[0m
[31mâ”‚[0m   [2m1038 [0m[2mâ”‚   â”‚   [0m[94mexcept[0m [96mException[0m [94mas[0m e:                                                            [31mâ”‚[0m
[31mâ”‚[0m   [2m1039 [0m[2mâ”‚   â”‚   â”‚   [0m[96mself[0m.meta.events.emit(                                                        [31mâ”‚[0m
[31mâ”‚[0m   [2m1040 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[33mf[0m[33m'[0m[33mafter-call-error.[0m[33m{[0m[96mself[0m._service_model.service_id.hyphenize()[33m}[0m[33m.[0m[33m{[0moperatio [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m [2;33m/home/thuang/miniconda3/envs/olmo/lib/python3.10/site-packages/botocore/[0m[1;33mendpoint.py[0m:[94m119[0m in [92mmake_[0m [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m116 [0m[2mâ”‚   â”‚   â”‚   [0moperation_model,                                                               [31mâ”‚[0m
[31mâ”‚[0m   [2m117 [0m[2mâ”‚   â”‚   â”‚   [0mrequest_dict,                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m118 [0m[2mâ”‚   â”‚   [0m)                                                                                  [31mâ”‚[0m
[31mâ”‚[0m [31mâ± [0m119 [2mâ”‚   â”‚   [0m[94mreturn[0m [96mself[0m._send_request(request_dict, operation_model)                           [31mâ”‚[0m
[31mâ”‚[0m   [2m120 [0m[2mâ”‚   [0m                                                                                       [31mâ”‚[0m
[31mâ”‚[0m   [2m121 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92mcreate_request[0m([96mself[0m, params, operation_model=[94mNone[0m):                                [31mâ”‚[0m
[31mâ”‚[0m   [2m122 [0m[2mâ”‚   â”‚   [0mrequest = create_request_object(params)                                            [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m [2;33m/home/thuang/miniconda3/envs/olmo/lib/python3.10/site-packages/botocore/[0m[1;33mendpoint.py[0m:[94m196[0m in [92m_send[0m [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m193 [0m[2mâ”‚   â”‚   [0mattempts = [94m1[0m                                                                       [31mâ”‚[0m
[31mâ”‚[0m   [2m194 [0m[2mâ”‚   â”‚   [0mcontext = request_dict[[33m'[0m[33mcontext[0m[33m'[0m]                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m195 [0m[2mâ”‚   â”‚   [0m[96mself[0m._update_retries_context(context, attempts)                                    [31mâ”‚[0m
[31mâ”‚[0m [31mâ± [0m196 [2mâ”‚   â”‚   [0mrequest = [96mself[0m.create_request(request_dict, operation_model)                       [31mâ”‚[0m
[31mâ”‚[0m   [2m197 [0m[2mâ”‚   â”‚   [0msuccess_response, exception = [96mself[0m._get_response(                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m198 [0m[2mâ”‚   â”‚   â”‚   [0mrequest, operation_model, context                                              [31mâ”‚[0m
[31mâ”‚[0m   [2m199 [0m[2mâ”‚   â”‚   [0m)                                                                                  [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m [2;33m/home/thuang/miniconda3/envs/olmo/lib/python3.10/site-packages/botocore/[0m[1;33mendpoint.py[0m:[94m132[0m in [92mcreat[0m [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m129 [0m[2mâ”‚   â”‚   â”‚   [0m)                                                                              [31mâ”‚[0m
[31mâ”‚[0m   [2m130 [0m[2mâ”‚   â”‚   â”‚   [0mservice_id = operation_model.service_model.service_id.hyphenize()              [31mâ”‚[0m
[31mâ”‚[0m   [2m131 [0m[2mâ”‚   â”‚   â”‚   [0mevent_name = [33mf[0m[33m'[0m[33mrequest-created.[0m[33m{[0mservice_id[33m}[0m[33m.[0m[33m{[0moperation_model.name[33m}[0m[33m'[0m            [31mâ”‚[0m
[31mâ”‚[0m [31mâ± [0m132 [2mâ”‚   â”‚   â”‚   [0m[96mself[0m._event_emitter.emit(                                                      [31mâ”‚[0m
[31mâ”‚[0m   [2m133 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mevent_name,                                                                [31mâ”‚[0m
[31mâ”‚[0m   [2m134 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mrequest=request,                                                           [31mâ”‚[0m
[31mâ”‚[0m   [2m135 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0moperation_name=operation_model.name,                                       [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m [2;33m/home/thuang/miniconda3/envs/olmo/lib/python3.10/site-packages/botocore/[0m[1;33mhooks.py[0m:[94m412[0m in [92memit[0m     [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m409 [0m[2mâ”‚   [0m                                                                                       [31mâ”‚[0m
[31mâ”‚[0m   [2m410 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92memit[0m([96mself[0m, event_name, **kwargs):                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m411 [0m[2mâ”‚   â”‚   [0maliased_event_name = [96mself[0m._alias_event_name(event_name)                            [31mâ”‚[0m
[31mâ”‚[0m [31mâ± [0m412 [2mâ”‚   â”‚   [0m[94mreturn[0m [96mself[0m._emitter.emit(aliased_event_name, **kwargs)                            [31mâ”‚[0m
[31mâ”‚[0m   [2m413 [0m[2mâ”‚   [0m                                                                                       [31mâ”‚[0m
[31mâ”‚[0m   [2m414 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92memit_until_response[0m([96mself[0m, event_name, **kwargs):                                   [31mâ”‚[0m
[31mâ”‚[0m   [2m415 [0m[2mâ”‚   â”‚   [0maliased_event_name = [96mself[0m._alias_event_name(event_name)                            [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m [2;33m/home/thuang/miniconda3/envs/olmo/lib/python3.10/site-packages/botocore/[0m[1;33mhooks.py[0m:[94m256[0m in [92memit[0m     [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m253 [0m[2;33mâ”‚   â”‚   [0m[33m:return: List of (handler, response) tuples from all processed[0m                     [31mâ”‚[0m
[31mâ”‚[0m   [2m254 [0m[2;33mâ”‚   â”‚   â”‚   â”‚    [0m[33mhandlers.[0m                                                                 [31mâ”‚[0m
[31mâ”‚[0m   [2m255 [0m[2;33mâ”‚   â”‚   [0m[33m"""[0m                                                                                [31mâ”‚[0m
[31mâ”‚[0m [31mâ± [0m256 [2mâ”‚   â”‚   [0m[94mreturn[0m [96mself[0m._emit(event_name, kwargs)                                              [31mâ”‚[0m
[31mâ”‚[0m   [2m257 [0m[2mâ”‚   [0m                                                                                       [31mâ”‚[0m
[31mâ”‚[0m   [2m258 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92memit_until_response[0m([96mself[0m, event_name, **kwargs):                                   [31mâ”‚[0m
[31mâ”‚[0m   [2m259 [0m[2;90mâ”‚   â”‚   [0m[33m"""[0m                                                                                [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m [2;33m/home/thuang/miniconda3/envs/olmo/lib/python3.10/site-packages/botocore/[0m[1;33mhooks.py[0m:[94m239[0m in [92m_emit[0m    [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m236 [0m[2mâ”‚   â”‚   [0mresponses = []                                                                     [31mâ”‚[0m
[31mâ”‚[0m   [2m237 [0m[2mâ”‚   â”‚   [0m[94mfor[0m handler [95min[0m handlers_to_call:                                                   [31mâ”‚[0m
[31mâ”‚[0m   [2m238 [0m[2mâ”‚   â”‚   â”‚   [0mlogger.debug([33m'[0m[33mEvent [0m[33m%s[0m[33m: calling handler [0m[33m%s[0m[33m'[0m, event_name, handler)              [31mâ”‚[0m
[31mâ”‚[0m [31mâ± [0m239 [2mâ”‚   â”‚   â”‚   [0mresponse = handler(**kwargs)                                                   [31mâ”‚[0m
[31mâ”‚[0m   [2m240 [0m[2mâ”‚   â”‚   â”‚   [0mresponses.append((handler, response))                                          [31mâ”‚[0m
[31mâ”‚[0m   [2m241 [0m[2mâ”‚   â”‚   â”‚   [0m[94mif[0m stop_on_response [95mand[0m response [95mis[0m [95mnot[0m [94mNone[0m:                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m242 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[94mreturn[0m responses                                                           [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m [2;33m/home/thuang/miniconda3/envs/olmo/lib/python3.10/site-packages/botocore/[0m[1;33msigners.py[0m:[94m106[0m in [92mhandle[0m [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m103 [0m[2mâ”‚   â”‚   [0m[2m# from a client's event emitter.  When a new request is created[0m                    [31mâ”‚[0m
[31mâ”‚[0m   [2m104 [0m[2mâ”‚   â”‚   [0m[2m# this method is invoked to sign the request.[0m                                      [31mâ”‚[0m
[31mâ”‚[0m   [2m105 [0m[2mâ”‚   â”‚   [0m[2m# Don't call this method directly.[0m                                                 [31mâ”‚[0m
[31mâ”‚[0m [31mâ± [0m106 [2mâ”‚   â”‚   [0m[94mreturn[0m [96mself[0m.sign(operation_name, request)                                          [31mâ”‚[0m
[31mâ”‚[0m   [2m107 [0m[2mâ”‚   [0m                                                                                       [31mâ”‚[0m
[31mâ”‚[0m   [2m108 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92msign[0m(                                                                              [31mâ”‚[0m
[31mâ”‚[0m   [2m109 [0m[2mâ”‚   â”‚   [0m[96mself[0m,                                                                              [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m [2;33m/home/thuang/miniconda3/envs/olmo/lib/python3.10/site-packages/botocore/[0m[1;33msigners.py[0m:[94m198[0m in [92msign[0m   [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m195 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0m[94melse[0m:                                                                      [31mâ”‚[0m
[31mâ”‚[0m   [2m196 [0m[2mâ”‚   â”‚   â”‚   â”‚   â”‚   [0m[94mraise[0m e                                                                [31mâ”‚[0m
[31mâ”‚[0m   [2m197 [0m[2mâ”‚   â”‚   â”‚   [0m                                                                               [31mâ”‚[0m
[31mâ”‚[0m [31mâ± [0m198 [2mâ”‚   â”‚   â”‚   [0mauth.add_auth(request)                                                         [31mâ”‚[0m
[31mâ”‚[0m   [2m199 [0m[2mâ”‚   [0m                                                                                       [31mâ”‚[0m
[31mâ”‚[0m   [2m200 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92m_resolve_identity_cache[0m([96mself[0m, kwargs, cache, cache_key):                           [31mâ”‚[0m
[31mâ”‚[0m   [2m201 [0m[2mâ”‚   â”‚   [0mkwargs[[33m'[0m[33midentity_cache[0m[33m'[0m] = cache                                                   [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m [2;33m/home/thuang/miniconda3/envs/olmo/lib/python3.10/site-packages/botocore/[0m[1;33mauth.py[0m:[94m424[0m in [92madd_auth[0m  [31mâ”‚[0m
[31mâ”‚[0m                                                                                                  [31mâ”‚[0m
[31mâ”‚[0m   [2m 421 [0m[2mâ”‚   [0m                                                                                      [31mâ”‚[0m
[31mâ”‚[0m   [2m 422 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92madd_auth[0m([96mself[0m, request):                                                          [31mâ”‚[0m
[31mâ”‚[0m   [2m 423 [0m[2mâ”‚   â”‚   [0m[94mif[0m [96mself[0m.credentials [95mis[0m [94mNone[0m:                                                      [31mâ”‚[0m
[31mâ”‚[0m [31mâ± [0m 424 [2mâ”‚   â”‚   â”‚   [0m[94mraise[0m NoCredentialsError()                                                    [31mâ”‚[0m
[31mâ”‚[0m   [2m 425 [0m[2mâ”‚   â”‚   [0mdatetime_now = datetime.datetime.utcnow()                                         [31mâ”‚[0m
[31mâ”‚[0m   [2m 426 [0m[2mâ”‚   â”‚   [0mrequest.context[[33m'[0m[33mtimestamp[0m[33m'[0m] = datetime_now.strftime(SIGV4_TIMESTAMP)             [31mâ”‚[0m
[31mâ”‚[0m   [2m 427 [0m[2mâ”‚   â”‚   [0m[2m# This could be a retry.  Make sure the previous[0m                                  [31mâ”‚[0m
[31mâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯[0m
[1;91mNoCredentialsError: [0mUnable to locate credentials
